---
title: 常见的 IP 地址分类
date: 2024-12-25T14:00:03+08:00
author: LiangMingJian
---

# 概述

Internet 上的每台主机和路由器都拥有一个由网络号和主机号唯一组成的 IP 地址，而且任意两台机器的 IP 地址互不相同。所有的 IP 地址都是一个 32 位长的二进制数，根据网络号和主机号分组方式的不同，细分为 A、B、C、D、E 五类。

## A 类地址

- 第一位总是 0，8 位分配给网络号，24 位分配给主机号
- 地址范围为：0.0.0.0 ~ 127.255.255.255
- **0000-0000**.0000-0000.0000-0000.0000-0000 ~ **0111-1111**.1111-1111.1111-1111.1111-1111 (32位)

## B 类地址

- 前两位总是 10，16 位分配给网络号，16 位分配给主机号
- 地址范围是：128.0.0.0 ~ 191.255.255.255

## C 类地址

- 前三位总是 110，24 位分配给网络号，8 位分配给主机号
- 地址范围是：192.0.0.0 ~ 223.255.255.255

## D 类地址

- 前四位总是 1110，D 类地址作为组播地址（一对多的通信）
- 地址范围是 224.0.0.0 ~ 239.255.255.255

## E 类地址

- 前五位总是 11110，E 类地址为保留地址，供以后使用
- 地址范围是 240.0.0.0 ~ 255.255.255.255
- 注：只有 A，B，C 有网络号和主机号之分，D 类地址和 E 类地址没有划分网络号和主机号

# 缺省路由 0.0.0.0

缺省路由，代表本地，可以用来寻找自己在网络中的 IP 地址。例如在 **DHCP** 协议中，若某个未知 IP 地址（缺省 0.0.0.0 ）的机器想要知道自己在网络中的 IP 地址，它就可以把 255.255.255.255 作为目的地址，向本地范围内所有的服务器发送 IP 请求分组指令。

# 受限的广播地址 255.255.255.255

受限的广播地址，常作为局域网内的边界 IP。受限广播地址与直接广播地址（主机字段全为 1 的 IP）的区别在于，受限广播地址只能用于本地网络，路由器不会转发以受限广播地址为目的地址的分组。而直接广播地址既可在本地广播，也可跨网段广播。换句话说，就是直接广播地址（一般广播地址）能够通过某些路由器，而受限的广播地址不能通过路由器。

# 本地回环地址 127.0.0.1

127.0.0.1 到 127.255.255.254（去掉0和255）的范围都是本地回环地址，通常被称为本地回环地址(Loopback Address)，不属于任何一个地址类。它代表设备的本地虚拟接口，所以默认被看作是永远不会宕掉的接口。在 Windows 操作系统中也有相似的定义，所以通常在安装网卡前，可以尝试 ping 通这个本地回环地址，来检查本地网络协议、基本数据接口等是否正常的。

# 本地私有 IP 地址

IPv4 地址空间中有一部分特殊的地址，称为私有 IP 地址，私有 IP 地址不能直接访问公网（Internet）的 IP，只能在本地使用。

- A类私有地址：10.0.0.0/8，范围是：10.0.0.0 ~ 10.255.255.255
- B类私有地址：172.16.0.0/12，范围是：172.16.0.0 ~ 172.31.255.255
- C类私有地址：192.168.0.0/16，范围是：192.168.0.0 ~ 192.168.255.255

# Ex.计算机获取 IP 的过程

当计算机启动时，默认IP地址 0.0.0.0 ，此时没有身份信息，无法进入网络，计算机需要进行广播。

## a）discover 阶段

由 0.0.0.0 发送到 255.255.255.255，正如名字 discover 一样，目的是为主机寻找 DHCP 服务器而发出广播，这个广播最远能到达网关。

## b）offer 阶段

DHCP 服务器收到请求后，会给计算机分配地址，然后将地址数据包返回。当电脑收到这个包后，就会根据 DHCP 协议为自己配上地址。注意到的是，此时 DHCP 服务器是通过 MAC 地址与计算机连接并传输信息。MAC 地址也可以用于通信，但是只限于本地通信，无法加入互联网。

## c）request 阶段

这个阶段计算机会通过广播向 DHCP 发送 request 包，确定使用这个地址。这是由于网络中可能会部署多台 DHCP 服务器，导致计算机可能会收到多个 offer，因此计算机为了确认使用哪个地址，需要再发一个 request 来告知 DHCP 服务器。服务器也是收到请求后，才会真正的把这个地址分配出去。

## d）ACK阶段

DHCP 服务器通过 MAC 地址发送 ACK 包，确认电脑请求的 IP 地址可使用。
