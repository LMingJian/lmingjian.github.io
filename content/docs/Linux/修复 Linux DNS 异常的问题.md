---
title: 修复 Linux DNS 异常的问题
date: 2024-12-25T13:56:42+08:00
author: LiangMingJian
---

## BUG

Linux 能 Ping 通 IP ，但不能 Ping 域名，DNS 出现异常。

## Resolution-1

编辑系统当前使用的网卡配置文件，如：

```bash
vi /etc/sysconfig/network-scripts/ifcfg-eth0
```

在文件最下面添加：

```bash
DNS1=8.8.8.8
DNS2=8.8.4.4
```

最后保存并重启网络：

```bash
service network restart
```

## Resolution-2

检查 `/etc/resolv.conf` 文件，若发现文件内容中存在以下字段：

```
# Generated by NetworkManager
```

这代表 Linux 系统的网络管理被系统可视化界面 Gnome 的网络管理接管了，此时用户配置在网卡文件 `ifcfg-eth0` 里的的 DNS 配置可能会不生效。

此时，需要修改 `/etc/resolv.conf` 文件，添加：

```bash
nameserver 8.8.8.8
nameserver 8.8.4.4
```

然后停用 NetworkManager 服务：

```bash
service NetworkManager stop
```

保存后重启网络：

```bash
service network restart
```

——————————

> [ Centos7 ping 未知的名称或服务 DNS 配置问题 @Zery ](https://www.cnblogs.com/zery/p/7486771.html)
