---
title: 修复 Linux DNS 异常的问题
date: 2024-12-25T13:56:42+08:00
author: LiangMingJian
---

## BUG 描述

Linux 能 Ping 通 IP ，但不能 Ping 域名，DNS 出现异常。

## Resolution-1

编辑 `/etc/sysconfig/network-scripts/ifcfg-eth?`，问号为数字，具体值根据网卡确定，在文件最下面添加：`DNS1=8.8.8.8 DNS2=8.8.4.4` ，保存后重启网络`systemctl restart NetworkManager.service`。

## Resolution-2

检查`/etc/resolv.conf`文件，若发现存在 `# Generated by NetworkManager` ，这代表 Linux 系统的网络管理被 Gnome 的网络管理接管了，此时 `ifcfg-eth?` 的 DNS 配置可能不生效。

需要修改`/etc/resolv.conf`，添加：`nameserver 8.8.8.8  nameserver 8.8.4.4`，停用 NetworkManager：`service NetworkManager stop`，保存后重启网络：`service network restart`。

{{< details "参考文件" >}} 
1：[ Centos7 ping 未知的名称或服务 DNS 配置问题 @Zery ](https://www.cnblogs.com/zery/p/7486771.html)
{{< /details >}}