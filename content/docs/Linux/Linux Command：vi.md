---
title: Linux Command：vi
date: 2024-12-25T13:58:47+08:00
author: LiangMingJian
---

# 概述

vi 是 Linux 系统默认内置的文本编辑器，执行 vi filename 可对文件进行编辑。

# vi 的模式

vi 共分为三种模式，**命令模式（Command Mode）、输入模式（Insert Mode）和命令行模式（Command-Line Mode）**。

**用户刚刚启动 vi，便进入了命令模式**。此状态下敲击键盘动作会被 vi 识别为命令，而非输入字符，比如我们此时按下 i，并不会输入一个字符，i 被当作了一个命令。

**在命令模式下按下 i 就进入了输入模式，使用 Esc 键可以返回到命令模式**。输入模式下，用户可以编辑文件，在文件中增删查改内容。

**在命令模式下按下冒号 : 就进入了命令行模式**。此时可以输入诸如 `:w`，`:wq!` 等复杂命令。（在命令行模式下，再按下 Esc 可以退出命令行模式）

# 支持的命令

```
i   -- 切换到输入模式，在光标当前位置开始输入文本。
x   -- 删除当前光标所在处的字符。
:   -- 切换到命令行模式，以在最底一行输入命令。
a   -- 进入插入模式，在光标下一个位置开始输入文本。
o   -- 在当前行的下方插入一个新行，并进入插入模式。
O   -- 在当前行的上方插入一个新行，并进入插入模式。
dd  -- 剪切当前行。
yy  -- 复制当前行。
p   -- 粘贴剪贴板内容到光标下方。
P   -- 粘贴剪贴板内容到光标上方。
u   -- 撤销上一次操作。
Ctrl + r    -- 重做上一次撤销的操作。
:w    -- 保存文件。
:wq   -- 保存文件并退出 Vi 编辑器。
:wq!  -- 强制保存文件并退出 Vi 编辑器。
:q    -- 退出 Vi 编辑器。
:q!   -- 强制退出 Vi 编辑器，不保存修改。
```
