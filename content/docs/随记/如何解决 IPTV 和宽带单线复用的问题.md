---
title: 如何解决 IPTV 和宽带单线复用的问题
date: 2025-05-08T19:02:30+08:00
author: LiangMingJian
---

# 需求

用户同时具有 IPTV 和宽带，但客厅到弱电箱只有 1 条网线，现在如何保证客厅能同时实现宽带上网和 IPTV 电视观看。

# 方案一

**直接拔线**

将原有 1 条网线的一端绑上 2 条新的网线，然后从另外一端慢慢抽过去，将原本的 1 条网线替换为新的 2 条网线。

- 优点：便宜、稳定、带宽不打折，日后千兆入户也没问题。
- 缺点：费事费力，操作麻烦。

# 方案二

**使用分线器**

**使用前提**：原有的 1 条网线是 8 芯网线，同时宽带速率不大于 100 M。

因为百兆宽带在网线是 4 芯的时候就能够完全传输，因此可以使用分线器将 8 芯线分为 2 组，一组走宽带，一组走 IPTV，互不干扰。

![](/_images/drawingbed/img/202505111020485.png)

- 优点：操作简单，成本低。
- 缺点：对于带宽大于 100 兆的，网速无法跑满。

# 方案三

**VLAN Trunk**

VLAN Trunk（虚拟局域网中继技术）是指能让连接在不同交换机上的相同 VLAN 中的主机互通，简单来说，就是只使用一条链路（网线），通过**标记数据**，让多个不同区域的交换机都通过一条网线进行数据交换，并能相互识别。

比如下图中，能通过标记数据，指定左边的 VLAN 30 数据只能传输到右边的 VLAN 30 数据。

![](/_images/drawingbed/img/202505111027166.png)

通过 VLAN Trunk 可以让 IPTV 和宽带共享网线的所有带宽，提高网络的利用率。

*实际来讲，IPTV 只需要 50M 带宽，如果让 IPTV 单独占用一条网线，比如百兆网线，显然会浪费掉 50% 的带宽。如果使用 VLAN Trunk，让 IPTV 和宽带共享一条千兆网线，那么去掉 IPTV 的 50M 带宽，剩下的 950M 都能使用，提高了网络利用率。*

![](/_images/drawingbed/img/202505111030856.png)

**所有交换机的配置一致**

**设置 2 个 VLAN**，分别选择 1-3 作为宽带（Untagged）端口，选择 4 作为 IPTV （Untagged）端口，最后 2 个 VLAN 都选择 5 作为 Tagged 端口（用于进行 Trunk，传输数据）。

![](/_images/drawingbed/img/202505111117530.png)

![](/_images/drawingbed/img/202505111041415.png)

**对端口传输的数据进行标记**，1-3，5 保持默认标记 1，4 IPTV 端口标记为 2。

![](/_images/drawingbed/img/202505111048228.png)

**关闭 IGMP 侦听**，避免主机与路由器之间的 IGMP 协议报文（Report / Leave），这些未打 VLAN 标签的原始报文对 VLAN Trunk 造成影响，避免冲突。

![](/_images/drawingbed/img/202505111049464.png)

- 优点：结构简单，灵活性好，最大限度利用了宽带和网络资源。
- 缺点：成本高，需要买 2 个网管交换机（部分光猫自带 VLAN 功能，此时可以节省一个交换机），同时需要配置网管交换机，需要一定计算机知识。

# 方案四

**电力猫**

通过电力猫，将**电线**作为网线传输数据。

- 优点：操作简单，即插即用。
- 缺点：成本高，一对电力猫 200 多，同时因为使用电线传输数据，容易被大功率的用电器影响，也不能接插座。

![](/_images/drawingbed/img/202505111129997.png)

{{< details "参考文件" >}} 
1：[ 单线复用! 一根线完美解决ITV+千兆网复用问题 - 知乎 ](https://zhuanlan.zhihu.com/p/150818318)
{{< /details >}}
