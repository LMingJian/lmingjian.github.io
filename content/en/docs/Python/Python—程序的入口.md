---
title: Python 程序的入口
date: 2020-09-15
author: LM
---

## 1.前言

我们都知道 C 或者 Java 程序运行必然有主程序入口 main 函数，而 python 却不同，即便没有主程序入口，程序一样可以自上而下对代码块依次运行。而如果要实现 C 那样的主程序入口 main 函数，我们可以使用以下代码。

```python
if __name__=='__main__':
    pass
```

## 2.解析

`__name__`是 python 的内置属性，属于系统全局变量，每一个 py 文件都有一个属于自己的`__name__`

- 如果 py 文件作为模块被导入，那么`__name__`就是该 py 文件的文件名(也称模块名)
- 如果 py 文件直接运行，那么`__name__`就是字符串 `__main__`

因此，通过对`__name__`进行判断，我们可以仅执行目标文件内的程序，而不会执行导入模块内的程序(函数与类除外，这类归于调用)，从而实现入口函数的功能

## 3.作用

- 作为 py 文件的 main 函数入口
- 一个项目中必然会包含多个模块文件，每个模块文件在写完代码之后会做一些简单的测试用于检测 bug 或者对自己的函数调用写一个简单的示例。通过编写这样一个入口函数，既不会影响代码测试，也不会影响别人调用，一举多得