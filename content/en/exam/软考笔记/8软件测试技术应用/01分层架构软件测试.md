---
title: 18分层架构软件测试
date: 2023-05-22
author: LM
---

## 1.分层体系结构

### 1.1 分层体系结构定义

- 分层体系结构指的是将系统的组件分隔到不同的层中，每一层中的组件处在同一抽象级别，保持内聚性，并且每一层都与它下面的各层保持松散耦合。
- 这种风格支持基于可增加抽象层的设计，允许将一个复杂问题分解成一个增量步骤序列的实现。不同的层次处于不同的抽象级别。
- 越靠近底层，抽象级别越高。越靠近顶层，抽象级别越低。
- 此外，由于每一层最多只影响两层，因此只要给相邻层提供相同的接口，就允许每层用不同的方法实现，为软件复用提供支持。

### 1.2 分层体系结构的优点

- **开发人员的专业分工，专注理解某一层**。 由于某一层仅仅调用其相邻下一层所提供的程序接口，只需要本层的接口和相邻下一层的接口定义清晰完整，开发人员在开发某一层时就可以像关注集中于这一层所用的功能和技术。
- **可以很容易用新的实现来替换原有层次的实现**。 只要前后提供的服务（接口）相同，即可替换。 系统开发过程中，功能需求不断变化，可以替换现有的层次以满足新的需求变化。
- **降低了系统间的依赖**。 比如业务逻辑层中的业务发生变化， 其他两层即表现层以及数据访问层程序也不需要变化。 这大大降低了系统各层之间的依赖。
- **有利于复用**。 充分利用现有的功能程序组件，将已经辨识的具有相对独立功能的层应用于新系统的开发，保证新系统开发的过程中，能够将重点集中于辨识和实现应用系统特有的业务功能， 最终缩短系统开发周期，提高系统的质量。

### 1.3 分层体系结构的缺点

- **级联修改问题**。 一些复杂的业务中，由于业务流程发生变化，为了这个变化所有层都需要修改。
- **性能问题**。 本来是直接简单的操作，需要在整个系统中层层传递，势必造成性能的下降，同时也加大的开发的复杂度。
- 并不是每个系统都可以很容易地划分为分层的模式，**难以找到一个合适的、正确的层次抽象方法**。

### 1.4 示例：MVC 三层模式 

- MVC 模式是软件工程中常见的一种分层体系结构，该模式把软件系统（项目）分为三个基本部分：模型（Model）、视图（View）和控制器（Controller）。
- 视图（View）是界面的显示，以及与用户的交互功能，例如表单、网页等。
- 控制器（Controller）是一个分发器，用来决定对于视图发来的请求，需要用哪一个模型来处理，以及处理完后需要跳回到哪一个视图。
- 模型（Model）持有所有的数据、状态和程序逻辑。模型接受视图数据的请求，并返回最终的处理结果。负责实体对象相关的业务逻辑。
- 示例：在基于JAVAEE（J2EE）技术开发的软件系统中，常用 HTML，JSP 来实现视图层，使用 Servlet 来实现控制器，使用 EJB 来实现模型层。其中 JSP，Servlet，EJB都是服务器端应用组件